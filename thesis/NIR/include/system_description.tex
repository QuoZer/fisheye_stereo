\subsection{Описание системы стереозрения}

Предлагаемая система стереозрения состоит из двух камер с объективами типа "рыбий глаз" $\geqslant180^\circ$,
расположенных ортогонально так, что  две камеры имеют область пересечения полей зрения. В пространстве, наблюдаемом 
сразу  двумя камерами возможна триангуляция и получение информации об объёме.  % FIXME: Всё описание просто бггг

Рассмотрим организацию системы на примере робота-доставщика "Ровер R3"  компании Яндекс, который имеет на борту 4 сверхширокоугольные камеры, 
размещённые спереди, сзади и по бортам корпуса \cite{yandex_rover}, что соответствует описанию системы. 
На рисунке \ref{pic:4cam_system}, а показано реальное положение камер  робота и их зон перекрытия, в которых может 
 обеспечивается получение информации о глубине при использовании описываемой системы. Рисунок \ref{pic:4cam_system}, б
демонстрирует эквивалентную по горизонтальному  покрытию схема при использовании обычных камер 
 с углом обзора $90^\circ$. 
 
%\addtwoimghere{Group 1}{0.4}{Group 2}{0.4}{Сравнение систем стереозрения}{pic:4cam_system}  % TODO: разобраться с масштабом
\addimghere{group12}{0.7}{Геометрическая модель бинокулярной системы стереозрения}{pic:2cam_scheme}

Как можно заметить, системе на основе обычных камер нужно в два раза больше сенсоров, чтобы достичь той же зоны покрытия 
по горизонтали.  Кроме того, традиционная система имеет меньшую зону покрытия по вертикали и не обеспечивает полный 
панорамный обзор. Все эти факторы делают систему стереозрения на основе ортогонально расположенных сверхширокоугольных камер 
более предпочтительной для применения в робототехнике.  % FIXME: уточнить. не во всей не всегда. сскорее выгодной, но  слово не очень

Применение существующих алгоритмов стереосопоставления предполагает наличие стереопары, удовлетворяющей условиям, описанным в секции \ref{stereovision}.
 Такую стереопару можно получить, введя в систему  для каждой сверхширокоугольной камеры виртуальную(ые) камеру-обскуру и направив 
её в сторону пересечения полей зрения, как если бы это была пара обычных камер. Процесс формирования виртуальной камеры-обскуры и 
алгоритм устранения искажений более подробно описаны в секции \ref{dewarping}.

Далее для упрощения рассмотрения системы будет считаться, что оптические оси всех камер находятся в одной плоскости, 
а на ориентацию виртуальных камер влияет только угол $ \beta $ поворота в этой плоскости. 

На рисунке \ref{pic:2cam_scheme} изображён простейший вариант системы с двумя камерами под углом $90^\circ$, который можно  считать частью
схемы, представленной на рисунке \ref{pic:4cam_system}, или модуля, изображённого  на рисунке \ref{pic:ssvs}. 

\addimghere{sample_simple2cam}{0.7}{Геометрическая модель бинокулярной системы стереозрения}{pic:2cam_scheme} %TODO: перерисовать схему?

  Здесь область пересечения полей зрения камер $C_0$ и $C_1$ обозначенная красным.
Эта область эквивалентна области пересечения полей зрения двух камер с полями зрения $90^\circ$ (обозначены
оранжевым), повёрнутых на $\beta_0 = \beta_1  = 45^\circ$ в сторону области интереса. Тогда $B$ - база стереопары.
Примеры изображений, полученных в такой конфигурации, приведён на рисунке \ref{pic:dewarped_exmples}. 

\addimghere{4pic_example}{0.7}{Пример исходных изображений с отмеченной областью интереса и снимков виртуальной стереопары}{pic:dewarped_exmples}

